# Решение проблемы CORS для Google Apps Script

## Проблема
При обращении к Google Apps Script из локального приложения возникает ошибка CORS:
```
Access to fetch at 'https://script.google.com/...' from origin 'http://127.0.0.1:5500' 
has been blocked by CORS policy
```

## Решение

### Шаг 1: Проверьте настройки развертывания

1. Откройте ваш Google Apps Script проект
2. Нажмите **"Развернуть"** → **"Управление развертываниями"**
3. Нажмите на значок **"Редактировать"** (карандаш) рядом с вашим развертыванием
4. Убедитесь, что настройки следующие:
   - **Тип развертывания**: Веб-приложение
   - **Описание**: Любое (например, "Salon Booking API")
   - **Выполнять от имени**: Меня (ваш email)
   - **У кого есть доступ**: **Все** (важно!)
5. Нажмите **"Развернуть"**
6. Скопируйте новый URL развертывания

### Шаг 2: Обновите URL в коде

Откройте файл `js/googleSheets.js` и обновите URL:

```javascript
const scriptUrl = 'ВАШ_НОВЫЙ_URL_РАЗВЕРТЫВАНИЯ';
```

### Шаг 3: Используйте обновленный скрипт

Скопируйте код из файла `google-apps-script-improved.gs` в ваш Google Apps Script проект.

### Шаг 4: Проверьте работу

1. Откройте URL развертывания в браузере - должно показать "Salon API Ready"
2. Откройте ваше приложение - ошибки CORS должны исчезнуть

## Альтернативное решение (если CORS все еще не работает)

Если проблема сохраняется, можно использовать прокси или разместить приложение на хостинге (GitHub Pages, Netlify, Vercel и т.д.), так как CORS работает лучше с HTTPS доменами.

## Важные замечания

- **У кого есть доступ** должно быть установлено в **"Все"** - это критично для работы CORS
- После изменения настроек развертывания URL может измениться - обновите его в коде
- Google Apps Script автоматически обрабатывает CORS для веб-приложений, если развертывание настроено правильно

